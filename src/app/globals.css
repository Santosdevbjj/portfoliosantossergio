/* src/app/globals.css */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* -------------------------------------------------------------------------- */
/* DESIGN TOKENS (RGB Raw Format for Tailwind Opacity Support)                 */
/* -------------------------------------------------------------------------- */
@layer base {
  :root {
    /* Brand (Raw RGB) - #0e8ce9 */
    --brand-50: 240 247 255;
    --brand-100: 224 239 254;
    --brand-200: 186 226 253;
    --brand-300: 124 200 251;
    --brand-400: 56 169 248;
    --brand-500: 14 140 233;
    --brand-600: 2 111 199;
    --brand-700: 3 88 161;
    --brand-800: 7 75 133;
    --brand-900: 12 63 109;

    /* Semantic Colors */
    --background: 248 250 252;
    --foreground: 15 23 42;
    --card: 255 255 255;

    --border: 226 232 240;
    --input: 226 232 240;

    --muted: 100 116 139;
    --accent: 59 130 246;

    --selection-bg: 14 140 233;
    --scroll-thumb: 203 213 225;
  }

  .dark {
    --background: 2 6 23;
    --foreground: 241 245 249;
    --card: 15 23 42;

    --border: 30 41 59;
    --input: 30 41 59;

    --muted: 148 163 184;
    --accent: 96 165 250;

    --selection-bg: 59 130 246;
    --scroll-thumb: 51 65 85;
  }

  /* -------------------------------------------------------------------------- */
  /* GLOBAL RESET & BEHAVIOR                                                    */
  /* -------------------------------------------------------------------------- */

  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
    overflow-x: hidden;
    background-color: rgb(var(--background));
    -webkit-tap-highlight-color: transparent;

    /* Multilanguage Typography Handling */
    hyphens: auto;
    line-break: auto;
    word-break: normal;
  }

  body {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    color: rgb(var(--foreground));
    background-color: rgb(var(--background));

    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    font-optical-sizing: auto;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;

    padding: env(safe-area-inset-top)
             env(safe-area-inset-right)
             env(safe-area-inset-bottom)
             env(safe-area-inset-left);

    transition: background-color 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Performance Optimization */
  section {
    content-visibility: auto;
    contain-intrinsic-size: 1px 600px;
  }

  ::selection {
    background-color: rgb(var(--selection-bg) / 0.2);
    color: rgb(var(--brand-700));
  }

  .dark ::selection {
    color: rgb(var(--brand-200));
  }

  :focus-visible {
    @apply outline-none ring-2 ring-brand-500 ring-offset-4 ring-offset-background;
  }

  /* Custom Scrollbar (Desktop Only) */
  @media (min-width: 1024px) {
    ::-webkit-scrollbar {
      width: 10px;
    }
    ::-webkit-scrollbar-track {
      background: transparent;
    }
    ::-webkit-scrollbar-thumb {
      background-color: rgb(var(--scroll-thumb));
      border-radius: 20px;
      border: 3px solid rgb(var(--background));
    }
    ::-webkit-scrollbar-thumb:hover {
      background-color: rgb(var(--brand-500));
    }
  }
}

/* -------------------------------------------------------------------------- */
/* COMPONENT ABSTRACTIONS                                                     */
/* -------------------------------------------------------------------------- */
@layer components {
  .main-container {
    @apply w-full max-w-7xl mx-auto px-4 sm:px-8 lg:px-12;
  }

  .glass-effect {
    @apply backdrop-blur-xl shadow-lg transition-all duration-300;
    background-color: rgb(var(--card) / 0.8);
    border: 1px solid rgb(var(--border) / 0.8);
  }

  .project-card {
    @apply relative overflow-hidden rounded-[2.5rem] border transition-all duration-500;
    background-color: rgb(var(--card));
    border-color: rgb(var(--border));
  }

  @media (hover: hover) {
    .project-card:hover {
      @apply -translate-y-2 shadow-2xl;
      border-color: rgb(var(--brand-500) / 0.5);
    }
  }
}

/* -------------------------------------------------------------------------- */
/* UTILITIES & ACCESSIBILITY                                                  */
/* -------------------------------------------------------------------------- */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }
}

@media (prefers-reduced-motion: reduce) {
  *, ::before, ::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* High Contrast Support (WCAG 2.2 / 2026) */
@media (forced-colors: active) {
  .glass-effect,
  .project-card {
    border: 2px solid ButtonText;
  }
}
